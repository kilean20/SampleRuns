!Input file for the IMPACT-Z beam dynamics code:
!Here, all lines starting with "!" are comment lines.
!The 1st 11 lines (excluding comment lines) define the numerical
!parameters and beam parameters.
!The remaining lines define the accelerator elements line by line.
!-------------------------------------------------------------
!"1" # of procs in Y direction, "1" # of procs in Z direction
!NOTE WELL: the product of these numbers must equal the number of
!            processors that you run on!
!--------------
!1 1
!4 4
16 16
!--------------
!"6" - 6D, "2000" - # of particles for each charge state, "2" - nonlinear
!Lorentz integrator "1" for map integrator, "0" - no error study, "1" - standard output
!--------------
6 200000 1 0 1
!--------------
!32x32x32 mesh grid, "1" - 3D open BC for space-charge solver,
!"0.03" - x pipe half width (m), y pipe half width (m) and period length (m).
!those width are used to set up the external boundary in the case of
!finite transverse boundary condition. They are NOT used to check particle
!loss.
!--------------
!64 64 4 8 0.050 0.050 0.100  !2D Transverse open (2D Poisson)
64 64 1025 7 0.050 0.050 0.100  !Symplectic 2d spectral solver (medium resolution)
!--------------
!"3" - input distribution type 3 (6D Waterbag), "0" - no restart, "0" - Flagsubsteps
!0 means no sub-cycle, 1 with sub-cycle,
!"1" - # of charge states
!--------------
23 0 0 1 stands for starting from srcatch, read-in data (for full optics w/NLL)
!5 0 0 1  !KV transverse, uniform longitudinal (for linear optics test)
!--------------
!# of particle list for each charge state
!--------------
200000
!--------------
!current for each charge state (A)
!--------------
0.0
!--------------
!q_i/m_i for each charge state. Here, we normalize each charge state
!by the mass of reference particle so that the reference particle has 1 AMU mass,
!but less charge.
!--------------
-1.95692801440299d-06   !For electrons
!--------------
!Parameters for initial distribution. see IMPACTlayer.doc for more information.
!Those parameters can be generated from the initial Twiss parameters and
!emittances using the utility function, Tr2Impact.
!--------------
!Converted from desired linear optics benchmark MAD-X parameters
0.6686190E-03  0.3699258E+00  0.4969769E-06  1.000  1.000  0.000  0.000
0.1041633E-02  0.2374535E+00  0.2233365E-08  1.000  1.000  0.000  0.000
0.1745329E-03  0.1956928E-012  0.0000000E+00  1.000  1.000  0.000  0.000
!--------------
! beam current (in A), ini beam kin en (in eV), particle mass (in eV), q in units of prot charge,
!                             reference freq in Hz, n/u
!"0.0" - bunched beam current I = Q*freq_ref, "2.5e6" - initial kinetic energy, "931.5016e6" -
!mass of particle (eV/c^2), "-1" - charge of reference particle,
!"402.5e6.." reference RF frequency, "0.0" - initial phase of the reference particle.
!--------------
0.0 100.0e6 0.511005d+06 -1.0 30.0e6 0.0  !Parameters for 100 MeV electrons
!--------------
!
! =======================*** ACC. LATTICE ***=======================
!
!Shift initial distribution vertically:
!0.0 0 0 -21 1.0 0.0 0.0 0.008 0.0 0.0 0.0 /   !Shift +8mm in y
!0.0 0 0 -21 1.0 0.0 0.0 0.0 0.0 0.0 0.0 /   !No initial shift
!Specify the number of turns:
0.0 0 1 -16 1.0 1 / !300 turns
!Write initial distribution to fort.90
0 0 90 -2 0 1 /
0 0 95 -8 64 /
!Begin lattice:
0.02 10 20 0 1.0 /
0.8925 10 20 0 1.0 /
0.21 10 20 1 -8.824391 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.135 10 20 0 1.0 /
0.21 10 20 1 13.249487571428572 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0825 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.15 10 20 0 1.0 /
!Begin sextupole 1 (turned off)
0.05 10 20 0 1.0 /
!0.0 0 10 5 2.0 7.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.05 10 20 0 1.0 /
!End sextupole 1
0.04 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.055 10 20 0 1.0 /
0.0975 10 20 0 1.0 /
0.21 10 20 1 -13.67986961904762 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.145 10 20 0 1.0 /
0.21 10 20 1 19.771672361904763 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.1075 10 20 0 1.0 /
0.055 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.078 10 20 0 1.0 /
0.4305191429 10 20 4 0.5235987756 0.0 350 0.058 0.0 0.0 0.0 0.0 0.5 /
0.138 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.0825 10 20 0 1.0 /
0.21 10 20 1 -10.86256000952381 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.14 10 20 0 1.0 /
0.21 10 20 1 16.236539680952383 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.14 10 20 0 1.0 /
0.21 10 20 1 -8.24661099047619 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.1075 10 20 0 1.0 /
0.045 10 20 0 1.0 /
! Enter nonlinear insert here.
!1.8 10 20 0 1.0 /  !Replace with a drift space
1.8 10 100 6 0.4 0.01 0.3 10.0 0 0 0 0 0 /   ! Check that c = 0.01 is correct
! Exit nonlinear insert here.
!Write distribution at the insert exit to fort.97
0 0 97 -2 0 1 /
0 0 98 -8 64 /
!Continue with lattice
0.045 10 20 0 1.0 /
0.1075 10 20 0 1.0 /
0.21 10 20 1 -7.356207400000001 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.14 10 20 0 1.0 /
0.21 10 20 1 14.219895771428572 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.14 10 20 0 1.0 /
0.21 10 20 1 -12.550091747619048 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0825 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.13187095 10 20 0 1.0 /
0.8092963858 10 20 4 1.047197551 0.0 350 0.058 0.0 0.0 0.0 0.0 0.5 /
0.16187095 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.055 10 20 0 1.0 /
0.1075 10 20 0 1.0 /
0.21 10 20 1 -13.064455671428572 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.1275 10 20 0 1.0 /
!Begin sextupole 2 (turned off)
0.05 10 20 0 1.0 /
!0.0 0 10 5 2.0 -28.18814977 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.05 10 20 0 1.0 /
!End sextupole 2
0.1275 10 20 0 1.0 /
0.21 10 20 1 11.98794091904762 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.127500001 10 20 0 1.0 /
!Begin sextupole 3 (turned off)
0.05 10 20 0 1.0 /
!0.0 0 10 5 2.0 50.92391799 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.05 10 20 0 1.0 /
!End sextupole 3
0.1275 10 20 0 1.0 /
0.21 10 20 1 -10.841054890476192 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.1075 10 20 0 1.0 /
0.055 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.16187095 10 20 0 1.0 /
0.8092963858 10 20 4 1.047197551 0.0 350 0.058 0.0 0.0 0.0 0.0 0.5 /
0.31687095 10 20 0 1.0 /
0.135 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.0725 10 20 0 1.0 /
0.21 10 20 1 -6.798433538095238 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.16 10 20 0 1.0 /
!Begin sextupole 4 (turned off)
0.05 10 20 0 1.0 /
!0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.05 10 20 0 1.0 /
!End sextupole 4
0.16 10 20 0 1.0 /
0.21 10 20 1 5.944784509523809 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.4625 10 20 0 1.0 /
0.7 10 20 0 1.0 /
0.4625 10 20 0 1.0 /
0.21 10 20 1 -5.507727080952382 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.16 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.16 10 20 0 1.0 /
0.21 10 20 1 3.7997295 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.3075 10 20 0 1.0 /
0.323 10 20 0 1.0 /
0.4305191429 10 20 4 0.5235987756 0.0 350 0.058 0.0 0.0 0.0 0.0 0.5 /
0.323 10 20 0 1.0 /
0.2075 10 20 0 1.0 /
0.21 10 20 1 -4.4833162600000005 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0925 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.935 10 20 0 1.0 /
0.1075 10 20 0 1.0 /
0.21 10 20 1 6.001825019047619 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0925 10 20 0 1.0 /
!Begin sextupole 5 (turned off)
0.05 10 20 0 1.0 /
!0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.05 10 20 0 1.0 /
!End sextupole 5
0.04 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.2825 10 20 0 1.0 /
!Begin sextupole 6 (turned off)
0.05 10 20 0 1.0 /
!0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.05 10 20 0 1.0 /
!End sextupole 6
0.0925 10 20 0 1.0 /
0.21 10 20 1 -6.78634190952381 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0925 10 20 0 1.0 /
!Begin sextupole 7 (turned off)
0.05 10 20 0 1.0 /
!0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.05 10 20 0 1.0 /
!End sextupole 7 
0.2825 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.04 10 20 0 1.0 /
!Begin sextupole 8 (turned off)
0.05 10 20 0 1.0 /
!0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.05 10 20 0 1.0 /
!End sextupole 8
0.0925 10 20 0 1.0 /
0.21 10 20 1 6.001825019047619 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.1075 10 20 0 1.0 /
0.935 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.0925 10 20 0 1.0 /
0.21 10 20 1 -4.4833162600000005 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.2075 10 20 0 1.0 /
0.323 10 20 0 1.0 /
0.4305191429 10 20 4 0.5235987756 0.0 350 0.058 0.0 0.0 0.0 0.0 0.5 /
0.323 10 20 0 1.0 /
0.3075 10 20 0 1.0 /
0.21 10 20 1 3.7997295 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.16 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.16 10 20 0 1.0 /
0.21 10 20 1 -5.507727080952382 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.7875 10 20 0 1.0 /
0.025 10 20 0 1.0 /
0.0 0 10 -40 1.0 5.1d3 0.0d0 1.0 / 
0.025 10 20 0 1.0 /
0.7875 10 20 0 1.0 /
0.21 10 20 1 5.944784509523809 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.16 10 20 0 1.0 /
!Begin sextupole 9 (turned off)
0.05 10 20 0 1.0 /
!0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.05 10 20 0 1.0 /
!End sextupole 9
0.16 10 20 0 1.0 /
0.21 10 20 1 -6.798433538095238 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0725 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.135 10 20 0 1.0 /
0.31687095 10 20 0 1.0 /
0.8092963858 10 20 4 1.047197551 0.0 350 0.058 0.0 0.0 0.0 0.0 0.5 /
0.16187095 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.055 10 20 0 1.0 /
0.1075 10 20 0 1.0 /
0.21 10 20 1 -10.841054890476192 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.1275 10 20 0 1.0 /
!Begin sextupole 10 (turned off)
0.05 10 20 0 1.0 /
!0.0 0 10 5 2.0 50.92391799 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.05 10 20 0 1.0 /
!End sextupole 10
0.1275 10 20 0 1.0 /
0.21 10 20 1 11.98794091904762 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.1275 10 20 0 1.0 /
!Begin sextupole 11 (turned off)
0.05 10 20 0 1.0 /
!0.0 0 10 5 2.0 -28.18814977 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.05 10 20 0 1.0 /
!End sextupole 11
0.1275 10 20 0 1.0 /
0.21 10 20 1 -13.064455671428572 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.1075 10 20 0 1.0 /
0.055 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.16187095 10 20 0 1.0 /
0.8092963858 10 20 4 1.047197551 0.0 350 0.058 0.0 0.0 0.0 0.0 0.5 /
0.13187095 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.0825 10 20 0 1.0 /
0.21 10 20 1 -12.550091747619048 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.14 10 20 0 1.0 /
0.21 10 20 1 14.219895771428572 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.14 10 20 0 1.0 /
0.21 10 20 1 -7.356207400000001 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.1075 10 20 0 1.0 /
0.045 10 20 0 1.0 /
!Drift space for possible addition of 2nd nonlinear insert
1.8 10 20 0 1.0 /
!End drift space for possible addition of 2nd nonlinear insert
0.045 10 20 0 1.0 /
0.1075 10 20 0 1.0 /
0.21 10 20 1 -8.24661099047619 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.14 10 20 0 1.0 /
0.21 10 20 1 16.236539680952383 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.14 10 20 0 1.0 /
0.21 10 20 1 -10.86256000952381 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0825 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.138 10 20 0 1.0 /
0.4305191429 10 20 4 0.5235987756 0.0 350 0.058 0.0 0.0 0.0 0.0 0.5 /
0.078 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.055 10 20 0 1.0 /
0.1075 10 20 0 1.0 /
0.21 10 20 1 19.771672361904763 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.145 10 20 0 1.0 /
0.21 10 20 1 -13.67986961904762 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0975 10 20 0 1.0 /
0.055 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.04 10 20 0 1.0 /
!Begin sextupole 12 (turned off)
0.05 10 20 0 1.0 /
!0.0 0 10 5 2.0 7.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.0 0 10 5 2.0 0.0 0.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.05 10 20 0 1.0 /
!End sextupole 12
0.15 10 20 0 1.0 /
0.1 10 20 0 1.0 /
0.0825 10 20 0 1.0 /
0.21 10 20 1 13.249487571428572 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.135 10 20 0 1.0 /
0.21 10 20 1 -8.824391 -1.0 0.15 0.0 0.0 0.0 0.0 0.0 /
0.9125 10 20 0 1.0 /
!Write final distribution to fort.100
0 0 100 -2 0 100 /
0 0 105 -8 64 /

